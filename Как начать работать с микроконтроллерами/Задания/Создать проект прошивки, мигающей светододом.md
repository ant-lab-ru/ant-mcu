- [ ]  

1. Создаем папку с первой прошивкой, ее задача будет помигать светодиодом, поэтому называем ее `01-blink`. Последняя команда откроет эту папку в VSCode;

``` bash
cd mcu
mkdir 01-blink
cd 01-blink
code .
```

> [!INFO] Обратите внимание
>  Все эти команды выше эквивалентны тем, что мы привыкли делать кликая мышкой: открыть папку, создать папку, открыть приложение. Однако, в отличии от кликов мышкой, работу с компьютером через терминал легко автоматизировать.

2. Копируем файл `pico_sdk_import.cmake` из `pico/pico-sdk/external/pico_sdk_import.cmake`;

> [!INFO] Справка
>  `pico_sdk_import.cmake` - это вспомогательный CMake скрипт, который упрощает подключение Pico SDK (комплекта для разработки под Raspberry Pi Pico) к вашему проекту на C/C++.

3. копируем файл `pico/pico-sdk/src/rp2_common/pico_crt0/rp2040/memmap_default.ld` в папку проекта и меняем его имя на `memmap_rp2040.ld`;

> [!INFO] Справка
>  `memmap_rp2040.ld` - это [[скрипт компоновщика]] (linker script), отвечает сборку фрагментов скомпилированного кода в единое целое и за разметку FALSH и RAM памяти микроконтоллера

4. создаем файл с исходным кодом `main.c`. Пишем в этот файл минимально рабочий пример кода, который мигает светодиодом

``` c
// подключаем библиотеки из pico SDK
#include "pico/stdlib.h"
#include "hardware/gpio.h"

// задаем константу с номером вывода, к которому подключен светодиод
// номер можно узнать и проверить в документации к плате
const uint LED_PIN = 25;

int main()
{
	// Инициализация GPIO вывода
	gpio_init(LED_PIN);
	gpio_set_dir(LED_PIN, GPIO_OUT);

	// Бесконечный цикл, чтобы светодиод мигал все время
	while (1)
	{
		gpio_put(LED_PIN, 0);
		sleep_ms(250);
		gpio_put(LED_PIN, 1);
		sleep_ms(1000);
	}
}
```

- Создаем файл со скриптом сборки нашего проекта `CMakeLists.txt`. Пишем в этот файл скрипт для сборки прошивки под RP2040

``` cmake

# Требуем минимальную версию cmake - типовая строчка для любого CMakeLists.txt
cmake_minimum_required(VERSION 3.15)

# Задаем параметр с используемой платой и микроконтроллером для Pico SDK - специфика сборки под Pico
set(PICO_BOARD pico)
set(PICO_PLATFORM rp2040)

# Добавляем файл, автоматически подтягивающий Pico SDK в наш проект - специфика сборки под Pico
include(pico_sdk_import.cmake)

# Создаем проект с именем 01_blink - типовая строчка для любого CMakeLists.txt
project(01_blink)

# Вызываем функцию инициализации Pico SDK - специфика сборки под Pico
pico_sdk_init()

# Добавляем в проект файлы с исходным кодом - типовая строчка для любого CMakeLists.txt
add_executable(01_blink
	${CMAKE_CURRENT_SOURCE_DIR}/main.c
)

# Указываем на какие библиотеки ссылается наш код - типовая строчка для любого CMakeLists.txt
target_link_libraries(01_blink
	pico_stdlib
)

# Указываем файл, в котором находится линкер скрипт - специфика сборки под МК
pico_set_linker_script(01_blink ${CMAKE_CURRENT_SOURCE_DIR}/memmap_rp2040.ld)

# Добавляем задачи генерации бинарника в разных форматах - специфика сборки под Pico
pico_add_extra_outputs(01_blink)
```
- В итоге должна получиться структура файлов, как в схеме ниже, всего 4 файла. Именно этих четырех файлов достаточно для сборки проекта и получения бинарного файла прошивки:
```
mcu
|-- 01-blink
	|-- main.c
	|-- CMakeLists.txt
	|-- linker_rp2040.ld
    |-- pico_sdk_import.cmake
```

