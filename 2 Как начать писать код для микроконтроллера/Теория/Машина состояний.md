## 1. Что такое машина состояний?

**Машина состояний (Finite State Machine, FSM)** — это математическая модель, используемая для проектирования логики поведения систем. В контексте программирования микроконтроллеров это подход, при котором программа может находиться в одном из конечного числа **состояний**, а переход между состояниями происходит при наступлении определенных **событий**.

**Ключевые компоненты FSM:**

- **Состояния (States)** — дискретные режимы работы системы
    
- **События (Events)** — внутренние или внешние воздействия
    
- **Переходы (Transitions)** — правила изменения состояний
    
- **Действия (Actions)** — операции, выполняемые при переходе или в состоянии
    

## 2. Зачем нужны машины состояний в микроконтроллерах?

### Преимущества использования FSM:

1. **Четкая структура программы** — логика становится понятной и предсказуемой
    
2. **Легкость отладки** — всегда известно текущее состояние системы
    
3. **Реактивность** — система быстро реагирует на события
    
4. **Масштабируемость** — легко добавлять новые состояния и переходы
    
5. **Предотвращение "блокировок"** — система не зависает в ожидании
    

### Типичные применения:

- Управление пользовательским интерфейсом (кнопки, меню)
    
- Автоматические системы (лифт, светофор, кофе-машина)
    
- Протоколы связи (прием/передача данных)
    
- Системы управления двигателями
    
- Обработка прерываний