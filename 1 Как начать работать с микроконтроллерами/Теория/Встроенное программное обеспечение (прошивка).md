---
занятие:
  - "[[Как начать работать с микроконтроллерами]]"
дата: 2026-01-25
---
На Raspberry Pi вы запускали программы на Python или компилировали программы на Си. Программа запускалась под управлением операционной системы Linux.

В микроконтроллере  **нет сложной многозадачной ОС**. В простейшем случае программа работает «на голом железе» ([[Bare metal]]) — запускается сразу после включения питания без операционной системы. 

**Прошивка** (firmware, ВПО — встроенное программное обеспечение) — это программа, записанная в энергонезависимую память ([[Flash]]) микроконтроллера.
### Отличия прошивки от программы на ПК

| Программа на ПК/RPi                 | Прошивка в МК                          |
| ----------------------------------- | -------------------------------------- |
| Запускается под управлением ОС      | Работает без ОС                        |
| Хранится на диске/SD-карте          | Хранится во Flash МК                   |
| Можно запустить и остановить        | Работает постоянно (пока есть питание) |
| Можно запустить несколько программ  | Одна программа на МК                   |
| ОС управляет памятью и устройствами | Программа сама управляет всем          |
### Структура прошивки

Типичная прошивка для микроконтроллера состоит из:

1. **Инициализация** — настройка периферии при старте
2. **Бесконечный цикл** — основная логика программы
3. **Обработчики прерываний** — реакция на события (опционально)

**Пример структуры (псевдокод):**
```c
#include "pico/stdlib.h"  // Подключение SDK

int main() {
    // 1. Инициализация
    gpio_init(25);              // Инициализация GPIO
    gpio_set_dir(25, OUTPUT);   // Настройка как выход
    
    // 2. Бесконечный цикл
    while (true) {
        gpio_put(25, HIGH);     // Включить LED
        sleep_ms(500);          // Задержка 500 мс
        gpio_put(25, LOW);      // Выключить LED
        sleep_ms(500);          // Задержка 500 мс
    }
    
    // Сюда программа никогда не дойдёт
    return 0;
}
```

**Обратите внимание:**
- Функция `main()` не завершается (бесконечный цикл `while(true)`)
- Нет `printf()` для вывода на экран (нет экрана!)
- Используются функции из SDK для работы с GPIO

> **Краткий вывод:** Прошивка — это программа для микроконтроллера, которая работает без операционной системы. Она хранится во Flash и запускается сразу после включения питания.

| **[[Устройство микроконтроллера\|Предыдущий раздел]]** | [[Как начать работать с микроконтроллерами\|К занятию]] | **[[Сборка прошивки\|Следующий раздел]]** |
| ------------------------------------------------------ | ------------------------------------------------------- | ----------------------------------------- |
|                                                        |                                                         |                                           |
