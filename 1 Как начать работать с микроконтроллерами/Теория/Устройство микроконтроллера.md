---
занятие:
  - "[[Как начать работать с микроконтроллерами]]"
дата: 2026-01-25
---
Микроконтроллер состоит из трёх основных частей:
1. **Процессорное ядро (CPU)** — выполняет вычисления
2. **Память** — хранит программу и данные
3. **Периферия** — взаимодействует с внешним миром

![[Схема микроконтроллера.png]]

Давайте разберём каждую часть подробнее.
### Процессорное ядро (CPU)

**Процессорное ядро** (или просто **ядро**, CPU core) — это вычислительная часть микроконтроллера. Оно выполняет машинные инструкции: выбирает команду из памяти, декодирует её, выполняет операции над данными и управляет потоком выполнения.

Вы уже знаете, что такое процессор из курса информатики и работы с ПК. В микроконтроллере процессор работает точно так же, но:
- Обычно имеет меньшую частоту (десятки-сотни МГц вместо ГГц)
- Имеет меньше ядер (часто одно или два)
- Обычно не имеет сложных систем кэширования (или имеет упрощённый кэш)
- Может работать без операционной системы (bare metal) или с лёгкой RTOS

Набор доступных операций определяется **архитектурой ядра**. Например, ARM Cortex-M — популярная архитектура для микроконтроллеров. Именно она используется в RP2040.

> **Для новичков:** На первом этапе вам не нужно знать детали архитектуры процессора. Достаточно понимать, что ядро выполняет ваш код.

---

### Память микроконтроллера

Память в микроконтроллере разделяется на два принципиально разных типа:

#### Flash-память (энергонезависимая)

**Flash-память** хранит программу (прошивку) и константы. Она сохраняет содержимое при отключении питания.

**Аналогия:** Flash — это как SSD в ноутбуке: хранит программу, не теряет данные при выключении, но встроена в устройство (в отличие от SD-карты, которую можно извлечь).

**Свойства:**
- ✅ Сохраняет данные без питания
- ✅ Большой объём (обычно от 32 КБ до нескольких МБ)
- ❌ Медленная запись
- ❌ Ограниченный ресурс циклов перезаписи (~10 000 - 1 000 000 циклов)

**Что хранится во Flash:**
- Код вашей программы
- Константы (`const` переменные)
- Строковые литералы ("Hello, world!")

**Важно:** Flash — это не аналог «диска», куда можно постоянно что-то дописывать. Это место для кода и редко меняющихся данных.

#### RAM (оперативная память)

**RAM** (Random Access Memory, ОЗУ) — это оперативная память для временных данных. Она теряет содержимое при отключении питания.

**Аналогия:** RAM — это как оперативная память в ПК. Она быстрая, но при выключении всё стирается.

**Свойства:**
- ✅ Очень быстрая запись и чтение
- ✅ Неограниченное количество циклов перезаписи
- ❌ Теряет данные без питания
- ❌ Меньший объём (обычно от 2 КБ до нескольких сотен КБ)

**Что хранится в RAM:**
- Переменные вашей программы
- Стек (локальные переменные функций)
- Буферы для обмена данными


```
Flash (энергонезависимая)          RAM (оперативная)
┌─────────────────────┐            ┌─────────────────────┐
│ Код программы       │            │ Переменные          │
│ (ваши функции)      │            │ int x = 10;         │
├─────────────────────┤            ├─────────────────────┤
│ Константы           │            │ Стек                │
│ const int a = 5;    │            │ (локальные          │
│ "Hello, world!"     │            │  переменные)        │
└─────────────────────┘            ├─────────────────────┤
                                   │ Буферы обмена       │
Сохраняется без питания            │ (UART, SPI...)      │
                                   └─────────────────────┘
                                   
                                   Теряется без питания
```


### Периферия: первое знакомство

**Периферия** — это специализированные аппаратные блоки внутри микроконтроллера, которые выполняют типовые функции ввода-вывода и работы со временем. 

Если CPU — универсальный исполнитель инструкций, то периферийные модули «заточены» под конкретные операции: измерять интервалы, генерировать сигналы, принимать и передавать данные, оцифровывать аналоговые величины.

Практически любая встраиваемая система строится вокруг связки «CPU + периферия»:
- **Ядро** реализует алгоритм
- **Периферийные блоки** обеспечивают взаимодействие с физическим миром

К периферии относятся:
- [[GPIO]]
- [[Таймеры]]
- [[UART]]
- [[SPI]]
- [[I2C]]
- [[АЦП]]

> **Для новичков:** На первом занятии достаточно знать, что периферия существует и что она помогает микроконтроллеру взаимодействовать с внешним миром. Детали — на следующих занятиях.

> **Краткий вывод:** Периферия — это аппаратные модули для ввода-вывода. GPIO — самый простой пример: цифровые входы и выходы. Вы уже работали с GPIO на Raspberry Pi, в микроконтроллере всё похоже.

| **[[Применение микроконтроллеров\|Предыдущий раздел]]** | [[Как начать работать с микроконтроллерами\|К занятию]] | **[[Встроенное программное обеспечение (прошивка)\|Следующий раздел]]** |
| ------------------------------------------------------- | ------------------------------------------------------- | ----------------------------------------------------------------------- |
