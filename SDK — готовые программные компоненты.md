---
занятие:
  - "[[Как начать работать с микроконтроллерами]]"
дата: 2026-01-25
---
Представьте, что вам нужно написать программу для управления светодиодом. Вы можете:

**Вариант 1 (сложный):**
- Прочитать 650 страниц datasheet RP2040
- Найти адреса регистров GPIO
- Написать код для записи в эти регистры
- Разобраться с битовыми масками
- Настроить систему тактирования
- ...

**Вариант 2 (простой):**
- Использовать готовую функцию из SDK: `gpio_put(25, HIGH);`

**SDK (Software Development Kit)** — это набор программных компонентов и инструментов, который производитель предоставляет для разработки прошивок.

### Что входит в SDK?

**1. Драйверы периферии:**
- Готовые функции для работы с GPIO, UART, SPI, I2C, таймерами, АЦП и т.д.
- Вместо работы с регистрами напрямую — простые функции

**2. Стартовый код:**
- Код, который выполняется до `main()`
- Инициализация памяти, настройка системы

**3. Примеры:**
- Готовые рабочие проекты
- Можно взять за основу и модифицировать

**4. Система сборки:**
- Скрипты для компиляции (CMake)
- Не нужно вручную вызывать компилятор

**5. Документация:**
- Описание функций API
- Туториалы и руководства

### Пример: Pico SDK

Для Raspberry Pi Pico используется **Pico SDK**. Он предоставляет:

**Функции для GPIO:**
```c
gpio_init(pin);              // Инициализация GPIO
gpio_set_dir(pin, direction);// Настройка направления (INPUT/OUTPUT)
gpio_put(pin, value);        // Запись значения (HIGH/LOW)
int value = gpio_get(pin);   // Чтение значения
```

**Функции для задержек:**
```c
sleep_ms(1000);  // Задержка 1000 миллисекунд (1 секунда)
sleep_us(500);   // Задержка 500 микросекунд
```

**Функции для UART:**
```c
uart_init(uart0, 115200);    // Инициализация UART
uart_puts(uart0, "Hello!");  // Вывод строки
```

### Структура Pico SDK

```
pico-sdk/
├── src/
│   ├── rp2_common/      ← Код для RP2040
│   │   ├── hardware_gpio/   ← Драйвер GPIO
│   │   ├── hardware_uart/   ← Драйвер UART
│   │   └── ...
│   └── common/          ← Общий код
├── examples/            ← Примеры проектов
│   ├── blink/           ← Мигание светодиода
│   ├── hello_uart/      ← Вывод в UART
│   └── ...
└── docs/                ← Документация
```

### HAL (Hardware Abstraction Layer)

**HAL** — это слой абстракции над аппаратурой. Он скрывает детали работы с регистрами и предоставляет простой API.

**Без HAL (работа с регистрами напрямую):**
```c
// Включить GPIO 25
*(volatile uint32_t*)(0x40014000 + 0x14) |= (1 << 25);
```

**С HAL (через SDK):**
```c
// Включить GPIO 25
gpio_put(25, HIGH);
```

Какой вариант понятнее? Очевидно, второй!

> **Важно:** SDK не заменяет понимание. Вы всё равно должны знать, что такое GPIO, как работает UART, какие ограничения есть у периферии. SDK просто упрощает доступ к «железу».

> **Краткий вывод:** SDK — это набор готовых инструментов (драйверы, примеры, система сборки), который ускоряет разработку. Вместо работы с регистрами напрямую вы используете простые функции.

| **[[Сборка прошивки\|Предыдущий раздел]]** | [[Как начать работать с микроконтроллерами\|К занятию]] | **[[Программатор и запись прошивки\|Следующий раздел]]** |
| ------------------------------------------ | ------------------------------------------------------- | -------------------------------------------------------- |
